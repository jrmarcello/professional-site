---
import BaseLayout from '../layouts/BaseLayout.astro';

const base = import.meta.env.BASE_URL;

const contact = [
  { label: 'Telefone', value: '(83) 98831-7867', href: 'tel:+5583988317867' },
  { label: 'Email', value: 'marcello.dudk@gmail.com', href: 'mailto:marcello.dudk@gmail.com' },
  { label: 'LinkedIn', value: 'linkedin.com/in/marcelo-jr-9698874a', href: 'https://www.linkedin.com/in/marcelo-jr-9698874a' },
  { label: 'GitHub', value: 'github.com/jrmarcello', href: 'https://github.com/jrmarcello' }
];

const highlights = [
  'Arquitetura AWS com HA, resiliência e padrões de microserviços/Serverless (EKS, ECS, Lambda).',
  'Engenharia backend com Java (Spring Boot) e Node.js/TypeScript em fluxos event-driven.',
  'Modernização de legados usando Strangler Fig, migração segura de dados e convivência com mainframes.',
  'Dados & Infraestrutura: tuning de RDS/DynamoDB, mensageria (RabbitMQ/SQS) e observabilidade centralizada.'
];

const languages = ['Português (nativo)', 'Inglês (Avançado)'];

const certifications = [
  { name: 'AWS Certified Solutions Architect – Associate', badge: 'https://www.credly.com/badges/0d0332c2-5ce2-4192-aee3-dcaeb2d06c88/public_url', image: `${base}/aws-saa-badge.png` },
  { name: 'AWS Certified Cloud Practitioner', badge: 'https://www.credly.com/badges/9fd07b51-7be1-4c6b-8bf6-58b09ac52ea8/public_url', image: `${base}/aws-clf-badge.png` }
];

const experience = [
  {
    company: 'Itaú Unibanco',
    role: 'Arquiteto de Soluções',
    period: 'mar 2022 · set 2025',
    location: 'João Pessoa, Brasil',
    summary:
      'Desenho de arquiteturas distribuídas de alta complexidade na AWS garantindo requisitos rigorosos de segurança, escalabilidade e resiliência.',
    bullets: [
      'Migração de microsserviços críticos de ECS Fargate para Amazon EKS com observabilidade centralizada.',
      'Arquitetura de produtos de crédito (portabilidade e garantia externa) com integrações seguras e consistência de dados.',
      'Estratégias Strangler Fig para modernizar mainframes e monólitos sem downtime.'
    ],
    stack: 'AWS (EC2, EKS, ECS, Lambda, SNS/SQS, Glue, DynamoDB), Java, Microservices, DDD'
  },
  {
    company: 'Dock',
    role: 'Engenheiro de Software Sênior',
    period: 'nov 2020 · mar 2022',
    location: 'João Pessoa, Brasil',
    summary:
      'Squad responsável pelo core de Pagamentos e Gestão de Boletos em plataforma BaaS com arquitetura serverless.',
    bullets: [
      'Implementação de Circuit Breaker entre microsserviços evitando cascading failures.',
      'Otimização de RDS para picos transacionais com tuning avançado de queries.',
      'Governança de IaC em CloudFormation garantindo ambientes auditáveis.'
    ],
    stack: 'AWS Serverless, Lambda, API Gateway, RDS/DynamoDB, CloudFormation, Node.js, Java'
  },
  {
    company: 'Leads2b',
    role: 'Engenheiro de Software',
    period: 'jan 2020 · set 2020',
    location: 'Curitiba, Brasil',
    summary:
      'Plataforma SaaS B2B de inteligência comercial com foco em modernização do core.',
    bullets: [
      'Decomposição de monólito PHP para microsserviços Node.js/TypeScript.',
      'Uso de Redis e ElasticSearch para ganhos de performance e busca.',
      'Filas RabbitMQ para workloads assíncronos de marketing automation.'
    ],
    stack: 'Node.js, TypeScript, PHP, Vue.js, MySQL, Redis, ElasticSearch, RabbitMQ'
  },
  {
    company: 'Conductor Tecnologia',
    role: 'Engenheiro de Software',
    period: 'fev 2019 · dez 2019',
    location: 'João Pessoa, Brasil',
    summary:
      'Squad de Clearing garantindo precisão financeira em liquidação de cartões.',
    bullets: [
      'Otimização de rotinas batch em PL/SQL para alto volume transacional.',
      'Manutenção de microsserviços Java/Spring para regras de conciliação.',
      'Análise e resolução de incidentes críticos em core bancário.'
    ],
    stack: 'SQL Server, PL/SQL, Java, Spring Boot, Batch Processing'
  }
];

const education = [
  {
    school: 'Instituto Federal da Paraíba',
    course: 'Sistemas para Internet · Ciência da Computação',
    period: '2010 · 2014'
  }
];

const previousExperience = [
    {
      company: 'Assert Polo Embrapii',
      role: 'Desenvolvedor Full Stack',
      period: 'abr 2017 · jan 2019',
      summary: 'Microsserviços Node.js, SPAs Vue.js e MongoDB para operações industriais de alta performance.'
    },
    {
      company: 'Evomaster Tecnologia',
      role: 'Engenheiro de Software',
      period: 'jan 2015 · abr 2017',
      summary: 'Full cycle no SaaS imobiliário Havite, aplicando SOLID/Clean Code em arquitetura PHP monolítica.'
    },
    {
      company: 'Secretaria de Estado da Administração da Paraíba',
      role: 'Engenheiro de Software',
      period: 'dez 2012 · dez 2014',
      summary: 'Sustentação de sistemas governamentais em PHP e scripts complexos de migração de dados MySQL.'
    },
    {
      company: 'Grupo de Pesquisa S.I.D.E.',
      role: 'Pesquisador Acadêmico',
      period: 'mar 2011 · jan 2014',
      summary: 'P&D em mineração de dados e Web Semântica (OWL/RDF), com publicações e estudos acadêmicos.'
    },
    {
      company: 'Grupo e-Gen',
      role: 'Software Engineering',
      period: 'set 2011 · jan 2012',
      summary: 'Desenvolvimento backend em Java/Spring para sistemas corporativos e manutenção de código.'
    }
  ];
---

<BaseLayout title="Currículo · Marcelo Jr" description="Resumo executivo e experiência detalhada de Marcelo Jr">
  <section class="space-y-6">
    <div class="flex flex-wrap items-center justify-between gap-4">
      <div>
        <p class="text-xs uppercase tracking-[0.5em] text-neutral-400">Currículo</p>
        <h1 class="text-4xl text-neutral-50">Marcelo Jr</h1>
        <p class="text-neutral-300">Arquiteto de Soluções · Engenheiro Backend · AWS Cloud</p>
      </div>
      <div class="flex items-center gap-4">
        <a class="inline-flex items-center gap-2 rounded-full bg-primary-600 px-6 py-3 text-sm font-semibold text-white shadow-glow" href={`${base}/resume-pdf`} target="_blank" rel="noreferrer">
          Baixar PDF
          <svg class="h-4 w-4" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M8 3v8" />
            <path d="M5 8l3 3 3-3" />
            <path d="M3 13h10" />
          </svg>
        </a>
        <img src={`${base}/profile.jpg`} alt="Marcelo Jr" class="h-14 w-14 rounded-full border-2 border-primary-500/50 shadow-lg" />
      </div>
    </div>
    <p class="text-neutral-200">
      Especialista em sistemas financeiros de alta criticidade, liderando arquiteturas distribuídas na AWS,
      migrações para Kubernetes, decomposição de monólitos e implantação de observabilidade e IaC para
      produtos de crédito, pagamentos e plataformas BaaS.
    </p>
    <div class="grid gap-4 md:grid-cols-2">
      {highlights.map((item) => (
        <p class="rounded-bento border border-white/5 bg-surface-900/60 p-4 text-sm text-neutral-200">{item}</p>
      ))}
    </div>
  </section>

  <section class="mt-10 grid gap-6 md:grid-cols-[2fr,1fr]">
    <article class="rounded-bento border border-white/5 bg-surface-900/60 p-6">
      <h2 class="text-sm uppercase tracking-[0.4em] text-neutral-400">Experiência</h2>
      <div class="mt-6 space-y-8">
        {experience.map((job) => (
          <div>
            <div class="flex flex-wrap justify-between gap-2">
              <div>
                <p class="text-lg text-neutral-50">{job.role}</p>
                <p class="text-neutral-300">{job.company}</p>
              </div>
              <div class="text-right text-xs text-neutral-500">
                <p>{job.period}</p>
                <p>{job.location}</p>
              </div>
            </div>
            <p class="mt-3 text-sm text-neutral-300">{job.summary}</p>
            <ul class="mt-3 space-y-2 text-sm text-neutral-100">
              {job.bullets.map((bullet) => (
                <li class="flex gap-2">
                  <span class="mt-1 h-1.5 w-1.5 rounded-full bg-accent-500"></span>
                  <span>{bullet}</span>
                </li>
              ))}
            </ul>
            <p class="mt-3 text-xs uppercase tracking-[0.4em] text-neutral-500">Stack</p>
            <p class="text-sm text-neutral-200">{job.stack}</p>
          </div>
        ))}
      </div>
    </article>

    <aside class="space-y-6">
      <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5">
        <h2 class="text-sm uppercase tracking-[0.4em] text-neutral-400">Contato</h2>
        <ul class="mt-4 space-y-3 text-sm text-neutral-100">
          {contact.map((item) => (
            <li>
              <p class="text-xs uppercase tracking-[0.3em] text-neutral-500">{item.label}</p>
              <a class="text-neutral-100 hover:text-primary-300" href={item.href} target={item.href?.startsWith('http') ? '_blank' : undefined} rel={item.href?.startsWith('http') ? 'noreferrer' : undefined}>
                {item.value}
              </a>
            </li>
          ))}
        </ul>
      </article>

      <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5">
        <h2 class="text-sm uppercase tracking-[0.4em] text-neutral-400">Certificações</h2>
        <ul class="mt-4 space-y-3 text-sm text-neutral-100">
          {certifications.map((cert) => (
            <li>
              <a href={cert.badge} target="_blank" rel="noreferrer" class="group flex items-center gap-3 hover:text-primary-300">
                <img src={cert.image} alt={`${cert.name} Badge`} class="h-10 w-10" />
                <span>{cert.name}</span>
              </a>
            </li>
          ))}
        </ul>
      </article>

      <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5">
        <h2 class="text-sm uppercase tracking-[0.4em] text-neutral-400">Educação</h2>
        <ul class="mt-4 space-y-4 text-sm text-neutral-100">
          {education.map((item) => (
            <li>
              <p class="text-neutral-50">{item.school}</p>
              <p class="text-neutral-300">{item.course}</p>
              <p class="text-xs text-neutral-500">{item.period}</p>
            </li>
          ))}
        </ul>
      </article>

      <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5">
        <h2 class="text-sm uppercase tracking-[0.4em] text-neutral-400">Idiomas</h2>
        <ul class="mt-4 space-y-2 text-sm text-neutral-100">
          {languages.map((lang) => (
            <li class="flex gap-2">
              <span class="mt-1 h-1.5 w-1.5 rounded-full bg-accent-500"></span>
              <span>{lang}</span>
            </li>
          ))}
        </ul>
      </article>
    </aside>
  </section>

  <section class="mt-10 rounded-bento border border-white/5 bg-surface-900/60 p-6">
    <h2 class="text-sm uppercase tracking-[0.4em] text-neutral-400">Experiências anteriores</h2>
    <div class="mt-6 grid gap-4 md:grid-cols-2">
      {previousExperience.map((item) => (
        <div class="rounded-2xl border border-white/5 bg-surface-950/60 p-4">
          <div class="flex items-center justify-between text-xs text-neutral-500">
            <span>{item.period}</span>
            <span>{item.company}</span>
          </div>
          <p class="mt-2 text-sm text-neutral-100">{item.role}</p>
          <p class="mt-2 text-sm text-neutral-300">{item.summary}</p>
        </div>
      ))}
    </div>
  </section>
</BaseLayout>
