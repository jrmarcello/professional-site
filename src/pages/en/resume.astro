---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { useTranslations } from '../../i18n';

const lang = 'en';
const t = useTranslations(lang);

const base = import.meta.env.BASE_URL.replace(/\/$/, '');

const contact = [
  { label: 'Phone', value: '+55 (83) 98831-7867', href: 'tel:+5583988317867' },
  { label: 'Email', value: 'marcello.dudk@gmail.com', href: 'mailto:marcello.dudk@gmail.com' },
  { label: 'LinkedIn', value: 'linkedin.com/in/marcelo-jr-9698874a', href: 'https://www.linkedin.com/in/marcelo-jr-9698874a' },
  { label: 'GitHub', value: 'github.com/jrmarcello', href: 'https://github.com/jrmarcello' }
];

const highlights = [
  'AWS architecture with HA, resilience and microservices/Serverless patterns (EKS, ECS, Lambda).',
  'Backend engineering with Java (Spring Boot) and Node.js/TypeScript in event-driven flows.',
  'Legacy modernization using Strangler Fig, safe data migration and mainframe coexistence.',
  'Data & Infrastructure: RDS/DynamoDB tuning, messaging (RabbitMQ/SQS) and centralized observability.'
];

const languages = ['Portuguese (native)', 'English (Advanced)'];

const certifications = [
  { name: 'AWS Certified Solutions Architect – Associate', badge: 'https://www.credly.com/badges/0d0332c2-5ce2-4192-aee3-dcaeb2d06c88/public_url', image: `${base}/aws-saa-badge.png` },
  { name: 'AWS Certified Cloud Practitioner', badge: 'https://www.credly.com/badges/9fd07b51-7be1-4c6b-8bf6-58b09ac52ea8/public_url', image: `${base}/aws-clf-badge.png` }
];

const experience = [
  {
    company: 'Itaú Unibanco',
    role: 'Solutions Architect',
    period: 'Mar 2022 · Sep 2025',
    location: 'João Pessoa, Brazil',
    summary:
      'Design of highly complex distributed architectures on AWS ensuring rigorous security, scalability and resilience requirements.',
    bullets: [
      'Migration of critical microservices from ECS Fargate to Amazon EKS with centralized observability.',
      'Credit product architecture (portability and external guarantee) with secure integrations and data consistency.',
      'Strangler Fig strategies to modernize mainframes and monoliths without downtime.'
    ],
    stack: 'AWS (EC2, EKS, ECS, Lambda, SNS/SQS, Glue, DynamoDB), Java, Microservices, DDD'
  },
  {
    company: 'Dock',
    role: 'Senior Software Engineer',
    period: 'Nov 2020 · Mar 2022',
    location: 'João Pessoa, Brazil',
    summary:
      'Squad responsible for Payments and Payment Slip Management core in BaaS platform with serverless architecture.',
    bullets: [
      'Circuit Breaker implementation between microservices preventing cascading failures.',
      'RDS optimization for transactional peaks with advanced query tuning.',
      'IaC governance in CloudFormation ensuring auditable environments.'
    ],
    stack: 'AWS Serverless, Lambda, API Gateway, RDS/DynamoDB, CloudFormation, Node.js, Java'
  },
  {
    company: 'Leads2b',
    role: 'Software Engineer',
    period: 'Jan 2020 · Sep 2020',
    location: 'Curitiba, Brazil',
    summary:
      'B2B SaaS platform for commercial intelligence focused on core modernization.',
    bullets: [
      'PHP monolith decomposition to Node.js/TypeScript microservices.',
      'Redis and ElasticSearch usage for performance and search improvements.',
      'RabbitMQ queues for async marketing automation workloads.'
    ],
    stack: 'Node.js, TypeScript, PHP, Vue.js, MySQL, Redis, ElasticSearch, RabbitMQ'
  },
  {
    company: 'Conductor Tecnologia',
    role: 'Software Engineer',
    period: 'Feb 2019 · Dec 2019',
    location: 'João Pessoa, Brazil',
    summary:
      'Clearing squad ensuring financial accuracy in card settlement.',
    bullets: [
      'Batch routine optimization in PL/SQL for high transaction volume.',
      'Java/Spring microservices maintenance for reconciliation rules.',
      'Critical incident analysis and resolution in banking core.'
    ],
    stack: 'SQL Server, PL/SQL, Java, Spring Boot, Batch Processing'
  }
];

const education = [
  {
    school: 'Federal Institute of Paraíba',
    course: 'Internet Systems · Computer Science',
    period: '2010 · 2014'
  }
];

const previousExperience = [
    {
      company: 'Assert Polo Embrapii',
      role: 'Full Stack Developer',
      period: 'Apr 2017 · Jan 2019',
      summary: 'Node.js microservices, Vue.js SPAs and MongoDB for high-performance industrial operations.'
    },
    {
      company: 'Evomaster Tecnologia',
      role: 'Software Engineer',
      period: 'Jan 2015 · Apr 2017',
      summary: 'Havite SaaS platform for real estate management. PHP, PostgreSQL, SOLID and Clean Code.'
    },
    {
      company: 'State Administration Secretary of Paraíba',
      role: 'Software Engineer',
      period: 'Dec 2012 · Dec 2014',
      summary: 'Legacy PHP systems and MySQL scripts for government data migration and sanitization.'
    },
    {
      company: 'Grupo e-Gen',
      role: 'Software Engineer',
      period: 'Sep 2011 · Jan 2012',
      summary: 'Java and Spring Framework backend development for enterprise corporate systems.'
    },
    {
      company: 'S.I.D.E. Research Group',
      role: 'Academic Researcher',
      period: 'Mar 2011 · Jan 2014',
      summary: 'R&D in Data Mining and Semantic Web. Academic publications and algorithm analysis.'
    }
];

const technologies = [
  { cat: 'Languages', items: ['TypeScript', 'JavaScript', 'Java', 'Python', 'PHP', 'SQL', 'PL/SQL'] },
  { cat: 'Backend', items: ['Node.js', 'Spring Boot', 'Express', 'NestJS', 'CodeIgniter'] },
  { cat: 'Frontend', items: ['Vue.js', 'HTML/CSS', 'JavaScript'] },
  { cat: 'AWS Cloud', items: ['EKS', 'ECS', 'Lambda', 'EC2', 'DynamoDB', 'RDS', 'SNS/SQS', 'API Gateway', 'CloudFormation', 'Glue'] },
  { cat: 'Data', items: ['PostgreSQL', 'MySQL', 'SQL Server', 'MongoDB', 'Redis', 'ElasticSearch', 'RabbitMQ'] },
  { cat: 'Architecture', items: ['Microservices', 'DDD', 'Clean Architecture', 'Serverless', 'Event-Driven', 'System Design'] }
];
---

<BaseLayout title="Resume · Marcelo Jr | AWS Solutions Architect" description="Professional resume of Marcelo Jr - AWS Solutions Architect with 13+ years of experience in distributed systems, microservices and Kubernetes." lang={lang}>
  <article class="space-y-10 print:space-y-6">
    <header class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
      <div class="flex items-center gap-6">
        <img
          src={`${base}/profile.jpg`}
          alt="Marcelo Jr"
          class="h-24 w-24 rounded-full border-2 border-primary-500/50 shadow-lg"
        />
        <div>
          <h1 class="text-4xl font-bold text-neutral-50">Marcelo Jr</h1>
          <p class="text-lg text-primary-300">Software & Solutions Architect</p>
          <p class="text-neutral-400">João Pessoa · Remote</p>
        </div>
      </div>
      <a
        href={`/${lang}/resume-pdf`}
        class="inline-flex items-center gap-2 rounded-full border border-white/20 bg-surface-800/60 px-5 py-2 text-sm font-semibold text-neutral-100 transition hover:-translate-y-0.5 print:hidden"
      >
        Download PDF
        <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10 3a1 1 0 011 1v8.586l2.293-2.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L9 12.586V4a1 1 0 011-1z" />
          <path d="M4 15a1 1 0 011 1v1h10v-1a1 1 0 112 0v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2a1 1 0 011-1z" />
        </svg>
      </a>
    </header>

    <section class="grid gap-4 text-sm md:grid-cols-4">
      {contact.map(({ label, value, href }) => (
        <a href={href} class="flex flex-col rounded-2xl border border-white/5 bg-surface-900/60 p-4 transition hover:border-primary-500/30">
          <span class="text-xs uppercase tracking-widest text-neutral-500">{label}</span>
          <span class="text-neutral-100">{value}</span>
        </a>
      ))}
    </section>

    <section class="space-y-4">
      <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Summary</h2>
      <p class="max-w-4xl text-lg text-neutral-200">
        Solutions Architect and Backend Engineer with 13+ years of experience in high-criticality financial systems
        (Itaú Unibanco, Dock, Conductor). I design distributed architectures on AWS (EKS, Lambda, microservices)
        focused on resilience, observability and legacy modernization.
      </p>
      <ul class="grid gap-3 text-sm md:grid-cols-2">
        {highlights.map((h) => (
          <li class="flex items-start gap-2 rounded-2xl border border-white/5 bg-surface-900/60 p-4">
            <span class="mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary-500"></span>
            <span class="text-neutral-200">{h}</span>
          </li>
        ))}
      </ul>
    </section>

    <section class="grid gap-4 md:grid-cols-2">
      <div class="space-y-3">
        <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Certifications</h2>
        <div class="flex gap-4">
          {certifications.map(({ name, badge, image }) => (
            <a href={badge} target="_blank" rel="noreferrer" class="group flex items-center gap-3 rounded-2xl border border-white/5 bg-surface-900/60 p-4 transition hover:border-primary-500/30">
              <img src={image} alt={name} class="h-16 w-16" />
              <span class="text-sm text-neutral-200 group-hover:text-primary-300">{name}</span>
            </a>
          ))}
        </div>
      </div>
      <div class="space-y-3">
        <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Languages</h2>
        <ul class="flex gap-4">
          {languages.map((l) => (
            <li class="rounded-2xl border border-white/5 bg-surface-900/60 px-5 py-3 text-neutral-200">{l}</li>
          ))}
        </ul>
      </div>
    </section>

    <section class="space-y-4">
      <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Professional Experience</h2>
      {experience.map(({ company, role, period, location, summary, bullets, stack }) => (
        <article class="rounded-bento border border-white/5 bg-surface-900/60 p-6 space-y-4">
          <header class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
            <div>
              <h3 class="text-xl font-semibold text-primary-300">{role}</h3>
              <p class="text-neutral-100">{company}</p>
            </div>
            <div class="text-right text-sm text-neutral-400">
              <p>{period}</p>
              <p>{location}</p>
            </div>
          </header>
          <p class="text-neutral-200">{summary}</p>
          <ul class="space-y-2 text-sm">
            {bullets.map((b) => (
              <li class="flex items-start gap-2">
                <span class="mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-accent-500"></span>
                <span class="text-neutral-200">{b}</span>
              </li>
            ))}
          </ul>
          <p class="text-xs text-neutral-400">Stack: {stack}</p>
        </article>
      ))}
    </section>

    <section class="space-y-4">
      <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Previous Experience</h2>
      <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
        {previousExperience.map(({ company, role, period, summary }) => (
          <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5 space-y-2">
            <div>
              <h3 class="text-lg font-semibold text-primary-300">{role}</h3>
              <p class="text-sm text-neutral-100">{company}</p>
              <p class="text-xs text-neutral-400">{period}</p>
            </div>
            <p class="text-sm text-neutral-300">{summary}</p>
          </article>
        ))}
      </div>
    </section>

    <section class="space-y-4">
      <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Technologies</h2>
      <div class="grid gap-4 md:grid-cols-3">
        {technologies.map(({ cat, items }) => (
          <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5 space-y-2">
            <h3 class="text-sm font-semibold text-neutral-100">{cat}</h3>
            <div class="flex flex-wrap gap-2 text-xs">
              {items.map((t) => (
                <span class="rounded-full border border-white/10 bg-surface-950/70 px-3 py-1 text-neutral-200">{t}</span>
              ))}
            </div>
          </article>
        ))}
      </div>
    </section>

    <section class="space-y-4">
      <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Education</h2>
      {education.map(({ school, course, period }) => (
        <article class="rounded-bento border border-white/5 bg-surface-900/60 p-5">
          <h3 class="text-lg font-semibold text-neutral-100">{school}</h3>
          <p class="text-neutral-300">{course}</p>
          <p class="text-sm text-neutral-400">{period}</p>
        </article>
      ))}
    </section>

    <section class="space-y-4 print:hidden">
      <h2 class="text-xs uppercase tracking-[0.5em] text-neutral-400">Availability</h2>
      <div class="rounded-bento border border-white/5 bg-gradient-to-br from-primary-600/20 to-surface-900/60 p-6">
        <p class="text-lg text-neutral-100">Available for consulting, remote squads and short-term projects.</p>
        <p class="text-neutral-300">marcello.dudk@gmail.com · +55 83 98831-7867</p>
      </div>
    </section>
  </article>
</BaseLayout>
